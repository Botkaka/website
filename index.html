<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agung & Septi - Satu Opsi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        :root { --pink-soft: #fce4ec; --pink-bold: #ec4899; }
        body { font-family: 'Quicksand', sans-serif; background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%); min-height: 100vh; color: #444; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); }
        .hidden { display: none !important; }
        
        #toast {
            position: fixed; top: -100px; left: 50%; transform: translateX(-50%);
            background: white; padding: 12px 24px; border-radius: 50px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); z-index: 9999;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.26, 1.55);
            display: flex; align-items: center; gap: 10px;
        }
        #toast.show { top: 30px; }

        .nav-btn { display: flex; flex-direction: column; align-items: center; padding: 12px; background: rgba(255,255,255,0.6); border-radius: 20px; font-size: 10px; font-weight: bold; transition: 0.2s; cursor: pointer; }
        .nav-btn:active { transform: scale(0.95); }
        
        /* Lightbox Pratinjau Foto */
        #photo-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 10000;
            display: none; align-items: center; justify-content: center; padding: 20px;
        }
        #photo-overlay img { max-width: 100%; max-height: 80vh; border-radius: 10px; box-shadow: 0 0 30px rgba(0,0,0,0.5); }

        .music-player { position: fixed; bottom: 20px; left: 20px; right: 20px; padding: 12px 20px; border-radius: 25px; display: flex; align-items: center; justify-content: space-between; z-index: 1000; }
        .page-full { position: fixed; inset: 0; z-index: 5000; background: #fff5f7; padding: 24px; overflow-y: auto; }
    </style>
</head>
<body class="pb-32">

    <div id="toast">
        <i class="fas fa-check-circle text-green-500"></i>
        <span id="toast-msg" class="text-sm font-bold">Berhasil!</span>
    </div>

    <div id="photo-overlay" onclick="closePreview()">
        <img id="preview-full-img" src="">
        <p class="absolute bottom-10 text-white text-[10px] font-bold uppercase tracking-widest bg-black/40 px-4 py-2 rounded-full">Ketuk untuk tutup</p>
    </div>

    <div id="main-dashboard">
        <header class="p-8 text-center">
            <div class="text-pink-500 text-5xl mb-2"><i class="fas fa-heart"></i></div>
            <h2 class="text-2xl font-bold text-gray-700">Agung & Septi</h2>
            <p class="text-[10px] font-bold text-pink-400 uppercase tracking-widest">Sejak 18 Agustus 2025</p>
            <div class="mt-4 glass inline-block px-8 py-3 rounded-full shadow-sm">
                <span id="days-count" class="text-3xl font-bold text-pink-600">0</span> Hari
            </div>
        </header>

        <div class="px-6 mb-6">
            <div onclick="showPage('page-mood')" class="glass p-4 rounded-3xl flex items-center gap-4 border border-white cursor-pointer shadow-sm">
                <span id="dash-mood-emoji" class="text-4xl">ðŸ¥°</span>
                <div class="flex-1">
                    <p id="dash-mood-label" class="text-xs font-bold text-pink-500 uppercase">Cinta</p>
                    <p id="dash-mood-reason" class="text-xs text-gray-500 italic truncate w-40">"Bahagia bersamamu..."</p>
                </div>
                <i class="fas fa-pen text-xs text-pink-300"></i>
            </div>
        </div>

        <div class="px-6 grid grid-cols-3 gap-3">
    <div onclick="showPage('page-kenangan')" class="nav-btn glass">
        <i class="fas fa-camera text-blue-500 mb-1 text-xl"></i>Upload
    </div>
    <div onclick="showPage('page-cerita')" class="nav-btn glass">
        <i class="fas fa-comment-dots text-pink-500 mb-1 text-xl"></i>Cerita
    </div>
    <div onclick="showPage('page-jadwal')" class="nav-btn glass">
        <i class="fas fa-calendar-check text-orange-500 mb-1 text-xl"></i>Jadwal
    </div>
    
    <a href="https://streambite.hafizhibnusyam.my.id/" target="_blank" class="nav-btn glass">
        <i class="fas fa-play-circle text-purple-600 mb-1 text-xl"></i>Drama
    </a>
    <div onclick="showPage('page-spotify')" class="nav-btn glass cursor-pointer">
    <i class="fab fa-spotify text-green-500 mb-1 text-xl"></i>
    <span class="text-[10px] font-bold">Spotify</span>
</div>

    </a>

    <div onclick="showPage('page-tips')" class="nav-btn glass">
        <i class="fas fa-running text-green-600 mb-1 text-xl"></i>Sport
    </div>
</div>

        
        <div class="px-6 mt-8">
            <h3 class="font-bold text-gray-700 mb-4 text-sm flex items-center gap-2"><i class="fas fa-star text-yellow-400"></i> Foto Terbaru</h3>
            <div id="preview-kenangan" class="grid grid-cols-2 gap-3"></div>
        </div>
        
    </div>
    <div class="px-6 mt-10">
    <div class="flex justify-between items-center mb-4">
        <h3 class="font-bold text-gray-800">Berita Momen Kita</h3>
        <span class="text-[10px] bg-pink-100 text-pink-600 px-2 py-1 rounded-full font-bold">TERBARU</span>
    </div>
    
    <div id="news-feed" class="space-y-6">
        </div>
</div>


    <div id="page-kenangan" class="page-full hidden">
        <button onclick="hidePage('page-kenangan')" class="mb-6 font-bold text-blue-500 flex items-center gap-2"><i class="fas fa-chevron-left"></i> KEMBALI</button>
        <h2 class="text-xl font-bold mb-4">Upload Kenangan</h2>
        <div class="glass p-4 rounded-2xl mb-6 shadow-sm">
            <input id="kenangan-file" type="file" class="hidden" accept="image/*" onchange="handleFileSelect(this)">
            <label for="kenangan-file" class="block border-dashed border-2 border-blue-200 p-6 rounded-xl text-center mb-3 cursor-pointer">
                <i class="fas fa-cloud-upload-alt text-blue-400 text-3xl mb-2"></i>
                <p class="text-[10px] text-gray-400 font-bold uppercase">Pilih Foto</p>
                
            </label>
            <div id="kenangan-inputs" class="hidden">
                <div id="image-preview-container" class="mb-3"></div>
                <input id="kenangan-judul" type="text" placeholder="Judul Momen..." class="w-full bg-white mb-2 p-2 rounded-lg text-xs outline-none">
                <input id="kenangan-tgl" type="date" class="w-full bg-white mb-3 p-2 rounded-lg text-xs outline-none">
                <textarea id="kenangan-cerita" placeholder="Cerita singkat..." class="w-full bg-white mb-3 p-2 rounded-lg text-xs h-16 outline-none"></textarea>
                <button onclick="submitKenangan()" class="w-full bg-blue-500 text-white py-3 rounded-xl text-xs font-bold uppercase">Simpan</button>
            </div>
        </div>
        <div id="kenangan-grid" class="grid grid-cols-1 gap-4 pb-20"></div>
    </div>

    <div id="page-cerita" class="page-full hidden">
        <button onclick="hidePage('page-cerita')" class="mb-6 font-bold text-pink-500 flex items-center gap-2"><i class="fas fa-chevron-left"></i> KEMBALI</button>
        <h2 class="text-xl font-bold mb-4 text-pink-600">Cerita Kita</h2>
        <div class="glass p-4 rounded-2xl mb-6 border border-white">
            <textarea id="cerita-input" placeholder="Tulis sesuatu..." class="w-full bg-transparent h-24 text-sm outline-none"></textarea>
            <div class="grid grid-cols-2 gap-3 mt-3">
                <button onclick="saveCerita('Agung')" class="py-3 rounded-xl bg-blue-500 text-white font-bold text-xs">AGUNG</button>
                <button onclick="saveCerita('Septi')" class="py-3 rounded-xl bg-pink-500 text-white font-bold text-xs">SEPTI</button>
            </div>
        </div>
        <div id="cerita-list" class="space-y-4 pb-20"></div>
    </div>

<div id="page-mood" class="page-full hidden">
    <button onclick="hidePage('page-mood')" class="mb-6 font-bold text-pink-500 flex items-center gap-2">
        <i class="fas fa-chevron-left"></i> KEMBALI
    </button>
    
    <h2 class="text-xl font-bold mb-6">Mood Hari Ini</h2>
    
    <div class="grid grid-cols-3 gap-4 mb-8">
        <div onclick="setMood('ðŸ¥°', 'Cinta')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ¥°</div>
        <div onclick="setMood('ðŸ˜Š', 'Senang')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ˜Š</div>
        <div onclick="setMood('ðŸ˜¢', 'Sedih')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ˜¢</div>
        <div onclick="setMood('ðŸ˜´', 'Bosan')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ˜´</div>
        <div onclick="setMood('ðŸ˜¡', 'Marah')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ˜¡</div>
        <div onclick="setMood('ðŸ¤’', 'Sakit')" class="glass p-4 rounded-2xl text-center cursor-pointer">ðŸ¤’</div>
    </div>

    <div class="glass p-6 rounded-3xl mt-8 shadow-lg border border-white">
        <h3 class="font-bold mb-4 text-pink-600 flex items-center gap-2">
            <i class="fas fa-edit"></i> Cerita & Kegiatan
        </h3>
        
        <div class="space-y-4">
            <div>
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Kegiatan</label>
                <input type="text" id="input-kegiatan" placeholder="Lagi apa hari ini?" 
                    class="w-full p-3 rounded-2xl bg-white border-none outline-none shadow-inner text-sm">
            </div>
            
            <div>
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Cerita</label>
                <textarea id="input-cerita" placeholder="Tulis ceritamu..." 
                    class="w-full p-3 h-24 rounded-2xl bg-white border-none outline-none shadow-inner text-sm"></textarea>
            </div>
            
            <div>
                <label class="text-[10px] font-bold text-gray-400 uppercase ml-2">Foto Momen</label>
                <input type="file" id="input-foto" accept="image/*" 
                    class="w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-pink-50 file:text-pink-700">
            </div>
            
            <button id="btn-simpan" onclick="simpanKegiatan()" 
                class="w-full bg-pink-500 hover:bg-pink-600 text-white font-bold py-4 rounded-2xl shadow-lg transition-all active:scale-95">
                SIMPAN MOMEN
            </button>
        </div>
    </div>

    <div id="daftar-kegiatan" class="mt-10 space-y-6 pb-20">
        </div>
</div>


        </div>
        <div id="mood-reason-box" class="hidden">
            <textarea id="mood-text" placeholder="Ada apa?" class="glass w-full p-4 rounded-2xl text-sm h-24 outline-none border border-white"></textarea>
            <button onclick="saveFullMood()" class="w-full bg-pink-500 text-white py-3 rounded-2xl mt-4 font-bold">Simpan</button>
        </div>
    </div>

    <div id="page-jadwal" class="page-full hidden">
        <button onclick="hidePage('page-jadwal')" class="mb-6 font-bold text-orange-500 flex items-center gap-2"><i class="fas fa-chevron-left"></i> KEMBALI</button>
        <h2 class="text-xl font-bold mb-4 text-orange-600">Jadwal Kita</h2>
        <div class="glass p-4 rounded-2xl mb-6 shadow-sm border border-white">
            <input id="j-judul" type="text" placeholder="Rencana apa?" class="w-full bg-transparent border-b border-orange-200 mb-3 p-2 text-xs outline-none">
            <input id="j-tgl" type="date" class="w-full bg-transparent border-b border-orange-200 mb-4 p-2 text-xs outline-none">
            <button onclick="addJadwal()" class="w-full bg-orange-500 text-white py-3 rounded-xl text-xs font-bold">TAMBAH</button>
        </div>
        <div id="jadwal-list" class="space-y-3 pb-20"></div>
    </div>

    <div id="page-tips" class="page-full hidden bg-[#f0f9ff]">
        <button onclick="hidePage('page-tips')" class="mb-6 font-bold text-green-600 flex items-center gap-2"><i class="fas fa-chevron-left"></i> KEMBALI</button>
        <h2 class="text-xl font-bold mb-4">Tips Sehat</h2>
        <div id="tips-list" class="space-y-4 pb-20"></div>
    </div>

    <div id="page-spotify" class="page-full hidden bg-[#121212]">
    <button onclick="hidePage('page-spotify')" class="mb-6 text-green-500 flex items-center gap-2">
        <i class="fas fa-chevron-left"></i> KEMBALI
    </button>
    <iframe style="border-radius:12px" 
        src="https://open.spotify.com/embed/playlist/3yu81kwU0rxld808jcg4Vl?si=u3SCRqgmRhuz2HQ1-2Gtcg&pi=QpdhXjTTSXWgl"
        width="100%" 
        height="450" 
        frameBorder="0" 
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
        loading="lazy">
    </iframe>
</div>


    <div class="music-player glass">
        <div class="flex items-center gap-3">
            <i class="fas fa-compact-disc text-pink-500 text-3xl animate-spin"></i>
            <p class="text-[10px] font-bold text-gray-600">Bergema Selamanya</p>
        </div>
        <audio id="main-audio" loop src="audio.mp3"></audio>
        <button onclick="toggleMusic()" id="play-btn" class="w-10 h-10 bg-white rounded-full text-pink-500 flex items-center justify-center shadow-inner"><i class="fas fa-play"></i></button>
    </div>
    <div id="modal-berita" class="fixed inset-0 z-[999] hidden flex items-center justify-center px-6">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" onclick="tutupCerita()"></div>
    
    <div class="glass relative w-full max-w-sm bg-white/90 rounded-[35px] p-8 shadow-2xl transform transition-all scale-100">
        <div id="modal-content">
            <h3 id="modal-judul" class="text-xl font-bold text-gray-800 mb-4 leading-tight"></h3>
            <div class="h-1 w-12 bg-pink-500 rounded-full mb-6"></div>
            <p id="modal-isi" class="text-gray-600 text-sm leading-relaxed max-h-[60vh] overflow-y-auto pr-2"></p>
        </div>
        
        <button onclick="tutupCerita()" class="w-full mt-8 bg-gray-800 text-white font-bold py-4 rounded-2xl shadow-lg active:scale-95 transition-all">
            TUTUP CERITA
        </button>
    </div>
</div>
<div class="px-6 mt-8 mb-20"> <div class="flex items-center gap-2 mb-4">
        <div class="h-5 w-1 bg-red-500 rounded-full"></div>
        <h3 class="font-bold text-gray-800 text-lg">Lagu Untukmu</h3>
    </div>

    <div class="w-full aspect-video rounded-[30px] overflow-hidden shadow-lg border-4 border-white glass">
        <iframe 
            id="yt-player"
            class="w-full h-full"
            src="https://www.youtube.com/embed/iQo-8wx0l0Y"
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            allowfullscreen>
        </iframe>
    </div>
    
    <p class="text-[10px] text-gray-400 text-center mt-3 font-medium uppercase tracking-widest">
        Klik play untuk dengerin lagu favorit kita
    </p>
</div>
<a href="love.html" class="flex-1 mx-2">
    <div class="bg-pink-500 hover:bg-pink-600 active:scale-95 transition-all p-3 rounded-2xl flex items-center justify-center gap-3 shadow-md shadow-pink-100">
        <i class="fas fa-heart text-white text-sm"></i>
        
        <span class="text-white text-xs font-bold uppercase tracking-wider">Momen Spesial</span>
    </div>
</a>


    <script>
        const ANNI = "2025-08-18";
        let db = JSON.parse(localStorage.getItem('agung_septi_mega_db')) || { 
            kenangan: [], cerita: [], jadwal: [],
            moods: [{e: 'ðŸ¥°', l: 'Cinta', r: 'Mencintaimu selamanya.'}]
        };

        function save() { localStorage.setItem('agung_septi_mega_db', JSON.stringify(db)); }

        window.onload = () => {
            const start = new Date(ANNI);
            const diff = Math.floor((new Date() - start) / (1000 * 60 * 60 * 24));
            document.getElementById('days-count').innerText = diff;
            updateDashboard();
            renderTips();
        };

        // --- NAVIGASI ---
        function showPage(id) {
            document.getElementById(id).classList.remove('hidden');
            window.scrollTo(0,0);
        }
        function hidePage(id) {
            document.getElementById(id).classList.add('hidden');
        }

        // --- PRATINJAU FOTO ---
        function previewPhoto(src) {
            const overlay = document.getElementById('photo-overlay');
            const fullImg = document.getElementById('preview-full-img');
            fullImg.src = src;
            overlay.style.display = 'flex';
        }
        function closePreview() {
            document.getElementById('photo-overlay').style.display = 'none';
        }

        // --- KENANGAN ---
        let tempImg = '';
        function handleFileSelect(input) {
            if(input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => { 
                    tempImg = e.target.result; 
                    document.getElementById('kenangan-inputs').classList.remove('hidden');
                    document.getElementById('image-preview-container').innerHTML = `<img src="${tempImg}" class="w-full h-40 object-cover rounded-xl shadow-md">`;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function submitKenangan() {
            const judul = document.getElementById('kenangan-judul').value;
            const tgl = document.getElementById('kenangan-tgl').value;
            const cerita = document.getElementById('kenangan-cerita').value;
            if(tempImg && judul && tgl) {
                db.kenangan.unshift({ img: tempImg, judul, tgl, cerita });
                save(); updateDashboard();
                document.getElementById('kenangan-inputs').classList.add('hidden');
                tempImg = ''; showToast("Foto Berhasil Disimpan!");
            }
        }

        function renderKenangan() {
            const grid = document.getElementById('kenangan-grid'); grid.innerHTML = '';
            db.kenangan.forEach((k, i) => {
                grid.innerHTML += `<div class="glass p-3 rounded-2xl bg-white shadow-sm">
                    <img src="${k.img}" onclick="previewPhoto('${k.img}')" class="w-full h-48 object-cover rounded-xl mb-3 cursor-pointer">
                    <div class="flex justify-between items-start mb-2">
                        <div><p class="text-xs font-bold text-gray-800">${k.judul}</p><p class="text-[9px] text-blue-500 font-bold">${k.tgl}</p></div>
                        <button onclick="deleteK(${i})" class="text-red-300"><i class="fas fa-trash-alt text-[10px]"></i></button>
                    </div>
                    <p class="text-[11px] text-gray-500 italic">"${k.cerita}"</p>
                </div>`;
            });
        }

        function renderPreviewKenangan() {
            const pre = document.getElementById('preview-kenangan'); pre.innerHTML = '';
            db.kenangan.slice(0, 2).forEach(k => {
                pre.innerHTML += `<div onclick="previewPhoto('${k.img}')" class="glass p-2 rounded-xl bg-white cursor-pointer shadow-sm">
                    <img src="${k.img}" class="w-full h-24 object-cover rounded-lg">
                </div>`;
            });
        }

        function deleteK(i) { if(confirm("Hapus kenangan ini?")) { db.kenangan.splice(i, 1); save(); updateDashboard(); } }

        // --- CERITA ---
        function saveCerita(nama) {
            const text = document.getElementById('cerita-input').value;
            if(text.trim()) {
                db.cerita.unshift({ nama, text, tgl: new Date().toLocaleString() });
                save(); renderCerita();
                document.getElementById('cerita-input').value = '';
                showToast("Pesan Terkirim!");
            }
        }
        function renderCerita() {
            const list = document.getElementById('cerita-list'); list.innerHTML = '';
            db.cerita.forEach(c => {
                const isSepti = c.nama === 'Septi';
                list.innerHTML += `<div class="glass p-4 rounded-xl border-l-4 ${isSepti?'border-pink-400':'border-blue-400'} bg-white shadow-sm">
                    <p class="text-[9px] font-bold opacity-40 mb-1 uppercase">${c.nama} â€¢ ${c.tgl}</p>
                    <p class="text-sm text-gray-700">${c.text}</p>
                </div>`;
            });
        }

        // --- JADWAL ---
        function addJadwal() {
            const j = document.getElementById('j-judul').value;
            const t = document.getElementById('j-tgl').value;
            if(j && t) { db.jadwal.push({ j, t }); save(); renderJadwal(); showToast("Agenda Ditambah!"); }
        }
        function renderJadwal() {
            const l = document.getElementById('jadwal-list'); l.innerHTML = '';
            db.jadwal.forEach((x, i) => {
                l.innerHTML += `<div class="glass p-3 rounded-xl flex justify-between bg-white text-xs border border-orange-50">
                    <span><b>${x.j}</b> <br> <small class="text-orange-400 font-bold">${x.t}</small></span>
                    <button onclick="db.jadwal.splice(${i},1);save();renderJadwal();" class="text-gray-300"><i class="fas fa-check-circle"></i></button>
                </div>`;
            });
        }

        // --- MOOD ---
        let selE = '', selL = '';
        function setMood(e, l) { selE = e; selL = l; document.getElementById('mood-reason-box').classList.remove('hidden'); }
        function saveFullMood() {
            const r = document.getElementById('mood-text').value;
            if(r.trim()) {
                db.moods.push({ e: selE, l: selL, r });
                save(); updateDashboard(); hidePage('page-mood'); showToast("Mood Terupdate!");
            }
        }

        // --- UTILS ---
        function updateDashboard() {
            const lastMood = db.moods[db.moods.length - 1];
            document.getElementById('dash-mood-emoji').innerText = lastMood.e;
            document.getElementById('dash-mood-label').innerText = lastMood.l;
            document.getElementById('dash-mood-reason').innerText = `"${lastMood.r}"`;
            renderKenangan();
            renderPreviewKenangan();
            renderCerita();
            renderJadwal();
        }

        function renderTips() {
            const list = document.getElementById('tips-list');
            const tips = [
                    {t: "Jogging Pagi", d: "Lari santai 15 menit dengan happy."},
    {t: "Minum Air Putih", d: "Minimal 2 liter sehari biar ga dehidrasi."},
    {t: "Plank Challenge", d: "Coba tahan 30 detik setiap sore bareng."},
    {t: "Gak boleh makan pedes", d: "Stop seblak dan bumbu balado merah!"},
    {t: "Gak boleh begadang", d: "Jangan begadang sampai larut malam ya."},
    {t: "Wajib Kabar", d: "Harus kabari aku setiap hari!"}
            ];
            list.innerHTML = '';
            tips.forEach(tp => {
                list.innerHTML += `<div class="glass p-4 rounded-xl bg-white border-l-4 border-green-400 shadow-sm"><p class="text-xs font-bold">${tp.t}</p><p class="text-[11px] text-gray-500">${tp.d}</p></div>`;
            });
        }

        function showToast(m) {
            const t = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = m;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 3000);
        }

        function toggleMusic() {
            const a = document.getElementById('main-audio');
            const b = document.getElementById('play-btn');
            if(a.paused) { a.play(); b.innerHTML = '<i class="fas fa-pause"></i>'; }
            else { a.pause(); b.innerHTML = '<i class="fas fa-play"></i>'; }
        }
      // DATA BERITA / CERITA KITA
const db_berita = [
    {
        judul: "Awal Mula Perjalanan Kita",
        cerita: "Gak kerasa ya kita sudah sejauh ini. Masih inget gak pertama kali kita kenal? Waktu itu semuanya terasa malu-malu, tapi sekarang kamu adalah orang yang paling favorit buat aku ajak cerita apa aja."
    },
    {
        judul: "Janji Untuk Sehat Bareng",
        cerita: "Aku buatkan fitur 'Tips Sehat' di sini karena aku peduli banget sama kamu. Tolong kurangi seblaknya ya sayang, jangan begadang terus. Aku mau kita sehat terus biar bisa bareng-bareng selamanya."
    },
    {
        judul: "Terima Kasih Sudah Bertahan",
        cerita: "Dunia mungkin kadang berisik dan bikin capek, tapi terima kasih ya sudah selalu jadi tempat aku pulang. Kamu hebat sudah bertahan sejauh ini, dan aku bangga banget punya kamu di hidup aku."
    },
    {
        judul: "Ingin Bersama",
        cerita: "Walaupun maut yang memisahkan kita tapi kita harus berjuang bersama sama ya...."
    }
];

// FUNGSI UNTUK MENAMPILKAN BERITA (TEXT ONLY)
function renderBerita() {
    const newsContainer = document.getElementById('news-feed');
    if(!newsContainer) return;
    newsContainer.innerHTML = '';

    db_berita.forEach((item) => {
        newsContainer.innerHTML += `
            <div class="glass p-5 rounded-3xl border border-gray-100 shadow-sm mb-4">
                <div class="flex justify-between items-start mb-2">
                    <h4 class="font-bold text-gray-800 text-base leading-tight w-3/4">${item.judul}</h4>
                    <span class="text-[8px] bg-pink-100 text-pink-500 px-2 py-1 rounded-full font-bold">INFO</span>
                </div>
                
                <p class="text-gray-600 text-xs leading-relaxed line-clamp-2">
                    ${item.cerita}
                </p>
                
                <div class="mt-4 pt-4 border-t border-gray-50 flex items-center justify-between">
                    <button onclick="bukaCeritaFull('${item.judul}', '${item.cerita}')" class="text-pink-500 text-[10px] font-bold uppercase tracking-wider">
                        Baca Selengkapnya
                    </button>
                    <i class="fas fa-heart text-pink-300 text-xs"></i>
                </div>
            </div>
        `;
    });
}

// Fungsi untuk membuka modal berita
function bukaCeritaFull(judul, isi) {
    const modal = document.getElementById('modal-berita');
    const mJudul = document.getElementById('modal-judul');
    const mIsi = document.getElementById('modal-isi');

    mJudul.innerText = judul;
    mIsi.innerText = isi;

    // Tampilkan modal dengan efek fade in
    modal.classList.remove('hidden');
    modal.classList.add('flex');
}

// Fungsi untuk menutup modal
function tutupCerita() {
    const modal = document.getElementById('modal-berita');
    modal.classList.add('hidden');
    modal.classList.remove('flex');
}

// Jalankan fungsi saat halaman dimuat
window.addEventListener('load', renderBerita);
  
    </script>
   <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<script>
    // Config Agung
    const firebaseConfig = {
        apiKey: "AIzaSyAlJ-5O1fSljLRhVrWq5VJMQ0Ve-P1MUgA",
        authDomain: "websiteagung-484a2.firebaseapp.com",
        databaseURL: "https://websiteagung-484a2-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "websiteagung-484a2",
        storageBucket: "websiteagung-484a2.appspot.com",
        messagingSenderId: "838808804909",
        appId: "1:838808804909:web:53ebb5602c662259d162a4"
    };

    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const storage = firebase.storage();

    // Fungsi Simpan Mood
    function setMood(emoji, label) {
        database.ref('current_mood').set({ emoji, label, time: new Date().toLocaleString() });
        showToast("Mood diperbarui!");
    }

    // Fungsi Simpan Kegiatan & Upload Foto
    async function simpanKegiatan() {
        const kegiatan = document.getElementById('input-kegiatan').value;
        const cerita = document.getElementById('input-cerita').value;
        const fotoFile = document.getElementById('input-foto').files[0];
        const btn = document.getElementById('btn-simpan');

        if(!kegiatan || !cerita || !fotoFile) return alert("Isi semua ya Agung!");

        btn.disabled = true; btn.innerText = "Mengirim...";

        try {
            // 1. Upload ke Storage
            const fileRef = storage.ref('momen/' + Date.now() + "_" + fotoFile.name);
            await fileRef.put(fotoFile);
            const url = await fileRef.getDownloadURL();

            // 2. Simpan ke Database
            await database.ref('kegiatan_kita').push({
                kegiatan, cerita, foto: url, waktu: new Date().toLocaleString()
            });

            alert("Berhasil disimpan!");
            document.getElementById('input-kegiatan').value = "";
            document.getElementById('input-cerita').value = "";
        } catch (e) {
            alert("Gagal: " + e.message);
        } finally {
            btn.disabled = false; btn.innerText = "SIMPAN MOMEN";
        }
    }

    // Ambil Data Otomatis
    database.ref('kegiatan_kita').on('value', (snap) => {
        const container = document.getElementById('daftar-kegiatan');
        container.innerHTML = "";
        snap.forEach(child => {
            const val = child.val();
            container.innerHTML = `
                <div class="glass p-4 rounded-3xl shadow-sm border border-white">
                    <img src="${val.foto}" class="w-full h-48 object-cover rounded-2xl mb-4">
                    <h4 class="font-bold text-pink-600">${val.kegiatan}</h4>
                    <p class="text-xs text-gray-500 mt-2">${val.cerita}</p>
                    <p class="text-[9px] text-gray-300 mt-3 uppercase font-bold">${val.waktu}</p>
                </div>
            ` + container.innerHTML;
        });
    });

    function showToast(msg) {
        const t = document.getElementById('toast');
        document.getElementById('toast-msg').innerText = msg;
        t.classList.add('show');
        setTimeout(() => t.classList.remove('show'), 3000);
    }
</script>
</body>
</html>
